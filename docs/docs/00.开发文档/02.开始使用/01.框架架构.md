---
title: 框架架构
date: 2022-05-05 23:13:31
permalink: /pages/16d2aa/
author: 
  name: Ankio
  link: https://github.com/dreamncn
article: false


---


## 单一入口

`CleanPHP`是基于单一入口的开发思想，所有的请求都交由`src/public/index.php`来处理。

**典型的访问链接：**

已配置伪静态的情况：`http://serverName/模块/控制器/操作?参数=值...`

没有配置伪静态的情况： `http://serverName/?m=模块&c=控制器&a=操作&参数=值...`

## 开发模式

众所周知，Web两大开发模式：`MVC`和`前后端分离`

`MVC`专注于全栈开发，写后端代码的同时，写前端代码。

`前后端分离`专注于专业的人干专业的事，后端开发只负责写接口，前端开发只负责页面渲染，两者之间通过接口调用实现连接。

`CleanPHP` 采用两个模式开发，以满足不同的需求。

::: tip MVC模式
MVC 模式代表 Model-View-Controller（模型-视图-控制器） 模式。

简单来讲，模型处理数据，视图渲染数据，控制器处理输入输出。
:::

![](https://cdn.jsdelivr.net/gh/dreamncn/picBed@master/uPic/2022_05_05_23_50_46_1651765846_1651765846077_qfu0RU.jpg)

::: tip API模式
API 模式，`CleanPHP`的API模式基本是遵循MVC思想，唯一不同的地方在于视图渲染，从动态渲染Html改成了动态输出接口。
:::


## 模块

一个典型的应用是由多个模块组成的，这些模块通常都是`src/controller`下面的一个子目录。

## 控制器

每个控制器其实就是一个独立的控制器类。

控制器主要负责请求的接收，并调用相关的模型处理，并最终通过视图输出。

## 操作

一个控制器包含多个操作（方法），操作方法是一个URL访问的**最小单元**。


## 模型

模型类通常完成实际的业务逻辑和数据封装，并返回数据。


## 视图

控制器调用模型类后返回的数据通过视图组装成不同格式的输出。

视图根据不同的需求，来决定调用模板引擎进行内容解析后输出还是直接输出。

视图通常会有一系列的模板文件对应不同的控制器和操作方法。

## 命名空间
`CleanPHP`采用了`PHP`的命名空间进行类库文件的设计和规划，并且符合`PSR-4`的自动加载规范。

